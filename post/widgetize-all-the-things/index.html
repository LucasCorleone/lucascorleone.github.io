<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Widget-ize All The Things! | Tyler Benziger</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link rel="shortcut icon" href="http://gravatar.com/avatar/9f5734a7063a4c48139f4999f3100167
?s=16">
  <link rel="stylesheet" href="/css/reset.css">
  <link rel="stylesheet" href="/css/mobile.css">
  <link rel="stylesheet" href="/css/desktop.css" media="(min-width:40em)">
  <link rel="stylesheet" href="/css/pygments.css">
  <link rel="stylesheet" href="/css/font.css">
  <script type="text/javascript" charset="utf-8" src="/js/matchmedia.js"></script>
  <script type="text/javascript" charset="utf-8" src="/js/picturefill.js"></script>
</head>

<body>
<div class="wrapper">
    <header>
    <div class="container">
        <div class="profile">
            <div class="social">
                <a href="http://twitter.com/tybenz">
                    <div data-picture data-alt="Twitter">
                        <div data-src="/img/twitter16.png"></div>
                        <div data-src="/img/twitter32.png"     data-media="(-webkit-min-device-pixel-ratio: 2)"></div>
                        <noscript><img src="/img/twitter16.png" alt="Twitter"></noscript>
                    </div>
                </a>
                <a href="http://github.com/tybenz">
                    <div data-picture data-alt="Github">
                        <div data-src="/img/octocat16.png"></div>
                        <div data-src="/img/octocat32.png"     data-media="(-webkit-min-device-pixel-ratio: 2)"></div>
                        <noscript><img src="/img/octocat16.png" alt="Github"></noscript>
                    </div>
                </a>
            </div>
            <img src="http://gravatar.com/avatar/9f5734a7063a4c48139f4999f3100167
?s=54" alt="avatar" class="avatar" />
        </div>
        <h5 class="logo"><a href="http://tybenz.com">Tyler Benziger</a></h5>
        <nav>
            <ul>
                
                    <li><a href="http://tybenz.com">Blog</a></li>
                
                
                <li><a href="http://tybenz.com/about">About</a></li>
                
                
                <li><a href="http://tybenz.com/projects">Projects</a></li>
                
            </ul>
        </nav>
        <div class="nav-slider">
            <div class="nav-selection "></div>
        </div>
    </div>
</header>

    
    <section id="main">
        <article class="container">
            <article class="post">
                <div class="post-header">
                    <p class="date">Jul 08, 2013</p>
                    <h1>Widget-ize All The Things!</h1>
                </div>
                <div class="post-body">
                    <p><strong>Reduce, reuse, refactor.</strong> That&#39;s what we do as developers <em>all day</em>.
If you&#39;re a front-end JS dev and that&#39;s not what you spend 80% of your time
doing, you&#39;re not doing it right.</p>

<p>The <strong>reduce</strong> and <strong>refactor</strong> are obvious necessities, and admittedly some of the most fun and/or
most painful parts of the job. In my experience, the <strong>reuse</strong> goal is often the easiest to acheive.
Yet, somehow, it is often the one most ignored.</p>

<p>Writing code that is purposefully structured to be reusable has immeasurable value. It&#39;s not that hard,
it&#39;s a lot of fun, and it just makes life better.</p>

<p>I&#39;ve seen recently a trend in the world of web development of this topic surfacing
more and more, and this is my two-cents. In the world of front-end development stock-piling
a treasure chest of well-written reusable components might as well be equivalent to hoarding pure gold.</p>

<p>Let me break it down for you.</p>

<p>There are 3 different approaches when it comes to solving a UI problem or implementing a common UI pattern.</p>

<ol>
<li>Black box</li>
<li>Framework-based</li>
<li>The holy grail</li>
</ol>

<h5 id="toc_9">Black box</h5>

<p>The black box approach is one that <em>every</em> web developer is familiar with.
What I&#39;m referring to is a UI-based plugin that might solve a problem, but requires specific
markup structure,
or an entire 300 lines of code to accomplish something you could have done in 20. It&#39;s a plugin you grab and throw
in your app/site and it&#39;s supposed to just &quot;work&quot;. And it does for the most part. The convenience is tempting.</p>

<p>The problem comes when you want to customize/extend the thing to do a
little something extra. Most plugin authors don&#39;t leave room for
interaction with the plugin itself. Sure, you got a slideshow widget by
downloading a couple of files, but what good is it if it&#39;s not
fully-customizable?</p>

<p>The limited nature of these black box components outweighs their ease of
use.</p>

<h5 id="toc_10">Framework-based</h5>

<p>I love MVC frameworks. On the back-end, on the front-end &mdash; if
there&#39;s a model, view, and controller, I&#39;m doing a happy dance. When it
comes to writing reusable code, however, there&#39;s one thing I can get
annoyed with pretty easily when dealing with UI components in a large-scale
applications. If you do it the &quot;framework&quot; way, it&#39;s less reusable by
definition.</p>

<p>Sure you can reuse a Backbone view in any Backbone project.
But what if you switch frameworks? What if you&#39;re implementing something
on a smaller scale and don&#39;t have a framework at all? Prepare for a
couple hours of refactoring and you slowly elbow out Backbone and try to
write a more &quot;universal&quot; widget, all along, asking yourself, &quot;Why on
earth didn&#39;t I just do it this way from the start?&quot;</p>

<h5 id="toc_11">The Holy Grail</h5>

<p>That&#39;s where option #3 comes in. The compromise between isolated,
they-just-work plugins and event-driven MVC-friendly components.</p>

<p>We&#39;re going to find a way to write UI components in a way that they can
work well in any context.</p>

<h5 id="toc_12">What does it look like?</h5>

<p>A solid reusable widget should have the following criteria:</p>

<ol>
<li>Options (and defaults)</li>
<li>DOM event bindings</li>
<li>Widget Logic</li>
<li>External events</li>
</ol>

<p>You write widgets with all 4 of those and here&#39;s what you&#39;ll get.</p>

<p>You&#39;ll have components that are customizable with options, that do their
job as their supposed to and that provide ways for other pieces of an
application to hook into and modify the widget&#39;s behavior.</p>

<p>External events are key to allowing extensibility when writing UI
widgets.</p>

<h5 id="toc_13">Example</h5>

<p>Let&#39;s say we have a simple widget like Bootstrap&#39;s dropdown. Before we
dive into writing such a widget, we try to identify any higher-level UI
patterns it uses (part of the reduce step I mentioned above).</p>

<p>The most basic aspect of the dropdown&#39;s behavior is binding the click of button
to displaying some panel. So we write a widget that does just that.
Click a button, and we&#39;ll open an associated panel. Click anywhere else
once it&#39;s opened, and we&#39;ll hide the panel for you. We&#39;ll call it a
&quot;toggle&quot; widget.</p>

<p>Now, we want an actual dropdown. That is, we want to use our little
toggle widget but change the contents of the panel to reflect what ever
items are supposed to be in the dropdown.</p>

<p>Take a look at the following diagram:</p>

<p><img src="http://awes0.me/widgetize.png" alt=""></p>

<p>Notice that the toggle widget does it&#39;s normal thing. It&#39;s really good
at keeping track of whether or not the panel is showing, but it also
fires events when a hide or show occurs. This let&#39;s write
another bit of code that listens for the show event and tweaks the
markup of the panel to what we need.</p>

<p>Slick huh? Now you&#39;ve got a widget that can handle a simple UI pattern,
and it&#39;s customizable/extensible enough to do something <em>really</em> useful.</p>

<p>Not to mention the more-complex dropdown widget should follow the same
criteria, and provide a variety of options, as well as events for when
things are hidden/shown and whatever else the markup within the panel
should handle.</p>

<h5 id="toc_14">Wrap up</h5>

<p>In my experience amassing an arsenal of these small pattern-based
reusable bits of code can really make working on any application so much
easier. I&#39;ve tried to lay out what I think is a template for simple, but
powerful components so that you can go forth and widgetize all of your UI.
As always feel free to submit any comments/questions on
<a href="http://twitter.com/tybenz">Twitter</a>.</p>

                </div>
            </article>
        </article>
    </section>
    
    <footer>
    <nav class="container">
        <ul>
            <li>&copy; Tyler Benziger 2013</li>
        </ul>
    </nav>
</footer>

</div>
</body>
<script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33073396-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

</script>
<script type="text/javascript" charset="utf-8">
    document.onreadystatechange = function() {
        if ( document.readyState == 'complete' ) {
            var active = document.querySelector( 'header a.active' ).innerHTML.toLowerCase(),
                links = document.querySelectorAll( 'header nav li a'),
                selection = document.querySelector( 'header .nav-selection' ),
                i, link;
            for ( i = 0; i < links.length; i++ ) {
                link = links[ i ];
                console.log(link);
                link.addEventListener( 'mouseover', function() {
                    selection.className = 'nav-selection';
                    selection.className = 'nav-selection ' + this.innerHTML.toLowerCase();
                });
                link.addEventListener( 'mouseout', function() {
                    selection.className = 'nav-selection ' + active;
                });
            }
        }
    };
</script>

</html>

